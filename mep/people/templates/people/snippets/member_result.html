{% load static %}
<dl class="member">
    <div class="primary">
        {# name - only shown on search results #}
        <div class="name">
            <dt>name</dt>
            <dd>{{ member.sort_name.0 }}</dd>
        </div>
        {# birth & death dates #}
        {% if member.birth_year or member.death_year %}
        <div class="birth-death">
            <dt>birth / death</dt>
            <dd>
                {% if member.birth_year %}
                <time datetime="{{ member.birth_year }}">{{ member.birth_year }}</time>
                {% endif %}
                <span> - </span>
                {% if member.death_year %}
                <time datetime="{{ member.death_year }}">{{ member.death_year }}</time>
                {% endif %}
            </dd>
        </div>
        {% endif %}
    </div>
    <div class="secondary">
        {# membership dates #}
        {% firstof member.account_start member.account_set.first.earliest_date as account_start %}
        {% firstof member.account_end member.account_set.first.last_date as account_end %}
        {% if account_start or account_end %}
        <div class="member-dates">
            <dt>membership dates</dt>
            <dd>
                {% if account_start %}
                <time datetime="{{ account_start }}">{{ account_start }}</time>
                {% endif %}
                {% if account_end and account_start != account_end %}
                <span> - </span>
                <time datetime="{{ account_end }}">{{ account_end }}</time>
                {% endif %}
            </dd>
        </div>
        {% endif %}
        {# display relevance score to logged in users if score is present #}
        {% if user.is_authenticated and member.score %}
        <div class="relevance">
            <dt>relevance</dt>
            <dd>{{ member.score }}</dd>
        </div>
        {% endif %}
    </div>
</dl>