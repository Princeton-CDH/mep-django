{% extends 'base.html' %}
{% load humanize %}
{% load render_bundle from webpack_loader %}

{% block css %}{% render_bundle 'search' 'css' %}{% endblock %}

{% block js %}{% render_bundle 'search' 'js' %}{% endblock %}

{% block page-subtitle %}Library Members Â· {% endblock %}

{% block header %}
{% include 'snippets/header.html' with title="members" %}
{% endblock %}

{% block main-style %}white{% endblock %}

{% block content %}
<p>Showing {{ members.count|intcomma }} member{{ members.count|pluralize }}</p>
<ol>
    {% for person in members %}
    <li>
        <a href="{% url 'people:member-detail' pk=person.pk_i %}">{{ person.sort_name_t.0 }}</a>
        {% if person.birth_year_i or person.death_year_i %}
        <div class="dates">
            {{ person.birth_year_i|default:'' }} - {{ person.death_year_i|default:'' }}
        </div>

        {% if person.account_start_i or person.account_end_i %}
            <div class="account-dates">
                <dt>Account Dates</dt>
                <dd>{{ person.account_start_i|default:'' }}
                {% if person.account_start_i != person.account_end_i %}- {{ person.account_end_i|default:'' }}
                {% endif %}
                </dd>
            </div>
        {% endif %}

        {% endif %}

    </li>
    {% endfor %}
</ol>
{% endblock %}