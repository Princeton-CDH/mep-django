{% load static %}
<article class="item details">
    <div class="main">
        <span class="counter"></span>
        <div class="metadata">
            <h1 class="title">{{ item.title }}</h1>
            {% if item.authors %}
            <h2 class="creator-label">Creators</h2>
            <ul class="authors">
                {% for author in item.authors %}
                    {% if forloop.counter <= 3 %}
                    <li class="author">{{ author }}</li>
                    {% endif %}
                {% endfor %}
                {% if item.authors|length > 3 %}
                    <span>... {{ item.authors|length|add:"-3" }} more authors</span>
                {% endif %}
            </ul>
            {% endif %}
            {% firstof item.pub_date item.year as pubdate %}
            {% if pubdate %}
            <span class="dates">
                <time datetime="{% pubdate }}">{{ pubdate }}</time>
            </span>
            {% endif %}
        </div>
    </div>
    <div class="secondary">
        {% if item.publishers.all|length > 0 %}
        <h2 class="publisher-label">Publishers</h2>
        <ul class="publishers">
            {% for publisher in item.publishers.all %}
                {% if forloop.counter <= 3 %}
                <li class="publisher">{{ publisher }}</li>
                {% endif %}
            {% endfor %}
            {% if item.publishers.all|length > 3 %}
                <span>... {{ item.publishers|length|add:"-3" }} more publishers</span>
            {% endif %}
        </ul>
        {% endif %}
        {# display relevance score to logged in users if score is present #}
        {% if user.is_authenticated and item.score %}
        <h2>Relevance</h2>
        <span class="relevance">{{ item.score }}</span>
        {% endif %}
        <a class="view-cards" href="#">View Cards</a>
    </div>
    <span class="see-more">
        See more details
        <img class="triangle icon" src="{% static 'img/icons/more_triangle.svg' %}" alt="">
    </span>
</article>