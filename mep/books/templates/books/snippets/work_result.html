{% load static %}
<dl class="book">
    <div class="primary">
        {# title - solr only #}
        <div class="title">
            <dt>title</dt>
            <dd>{{ work.title.0 }}</dt>
        </div>
        {# authors - solr & db #}
        {% if work.sort_authors %}
            {% include 'books/snippets/work_authors.html' with authors=work.sort_authors %}
        {% else %}
            {% include 'books/snippets/work_authors.html' with authors=work.authors.all %}
        {% endif %}
        {# editors - db only #}
        {% if work.editors.count > 0 %}
        <div class="editors">
            <dt>editors</dt>
            {% for editor in work.editors.all %}
            <dd>{{ editor }}</dd>
            {% endfor %}
        </div>
        {% endif %}
        {# translators - db only #}
        {% if work.translators.count > 0 %}
        <div class="translators">
            <dt>translators</dt>
            {% for translator in work.translators.all %}
            <dd>{{ translator }}</dd>
            {% endfor %}
        </div>
        {% endif %}
        {# publication date - solr (pub_date) & db (year) #}
        {% firstof work.pub_date work.year as pubdate %}
        {% if pubdate %}
        <div class="pubdate">
            <dt>publication date</dt>
            <dd>{{ pubdate }}</dd>
        </div>
        {% endif %}
    </div>
    <div class="secondary">
        {# publishers - db only #}
        {% if work.publishers.count > 0 %}
        <div class="publishers">
            <dt>publishers</dt>
            {% for publisher in work.publishers %}
            <dd>{{ publisher }}</dd>
            {% endfor %}
        </div>
        {% endif %}
        {# format - not yet implemented #}
        {% if work.format %}
        {% endif %}
        {# relevance - solr only #}
        {% if user.is_authenticated and work.score %}
        <div class="relevance">
            <dt>relevance</dt>
            <dd>{{ work.score }}</dd>
        </div>
        {% endif %}
    </div>
</dl>
